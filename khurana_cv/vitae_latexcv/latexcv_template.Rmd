---
name: Havisha
surname: Khurana
position: "PhD Student"
address: "College of Education, University of Oregon"
pronouns: she/her
email: "havishak@uoregon.edu"
website: "github/havishak"
linkedin: havishak
date: "`r format(Sys.time(), '%B %Y')`"
output: 
  vitae::latexcv:
    theme: classic
#profilepic: image/havisha_khurana_photo.jpeg
#aboutme: "Special Education Policy Researcher, Educator, Data Visualization Enthusiast"
docname: "CV"
format: cv-pdf
header-includes:
  \definecolor{headcolor}{HTML}{40E0D0}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(vitae)
library(readxl)
library(dplyr)
library(ggplot2)
library(here)
library(readr)
library(purrr)
library(stringr)
library(lubridate)
```

```{r load data}
files <- here(paste0("data/",list.files(here("data/"))))
import_data <- map(files, read_excel)
names(import_data) <- list.files(here("data/"))
```

# About Me

<Write a parahraph>

# Education

```{r}
import_data[["cv_entries.xlsx"]] %>%
  filter(type == "education") %>%
  mutate(
    years = paste0(year_begin,"-", parse_number(year_end)),
  ) %>%
  detailed_entries(
    what = what,
    when = years,
    with = where,
    why = additional_info)
```

# Employment History

```{r}
import_data[["cv_entries.xlsx"]] %>%
  filter(type == "history") %>%
  mutate(
    years = case_when(
      year_begin == year_end ~ year_begin,
      is.na(year_end) ~ paste0(year_begin,"-Present"),
      TRUE ~ paste0(year_begin,"-", parse_number(year_end)))
  ) %>%
  arrange(desc(year_begin)) %>%
  brief_entries(
    what = what,
    when = years,
    with = where)
  
```

# Researh 

```{r}
import_data[["research_projects_details.xlsx"]] %>%
  arrange(desc(year_begin)) %>%
  detailed_entries(
    what = project,
    when = year_begin,
    with = pi,
    where = where,
    why = strsplit(responsibilities,"\n")
  )
```

<!-- # Teaching -->

<!-- ```{r} -->
<!-- import_data[["courses_taught.xlsx"]] %>% -->
<!--   arrange(desc(academic_year), title) %>% -->
<!--   mutate( -->
<!--     class_type = paste0(str_to_title(mode),", ", str_to_title(level),"-Level") -->
<!--   ) %>% -->
<!--   detailed_entries( -->
<!--     what = title, -->
<!--     when = academic_year, -->
<!--     with = class_type, -->
<!--     why = strsplit(responsibilities,"\n") -->
<!--   ) -->
<!-- ``` -->

# Awards

```{r}
import_data[["cv_entries.xlsx"]] %>%
  filter(type == "award") %>%
  arrange(desc(year_begin)) %>%
  brief_entries(
    what = paste0(what, where,"\n"),
    when = year_begin,
    with = amount
    )
```

# Presentations

```{r}
import_data[["pubs.xlsx"]] %>%
  filter(type %in% c("conference", "presentation")) %>%
  mutate(
    entry = paste0(authors, "(", year,"). ", title,". ", conference, " ", conf_loc)
  ) %>%
  brief_entries(
    what = entry
  )
```

# Training


```{r}
import_data[["training.xlsx"]] %>%
  mutate(
    dates = ifelse(is.na(valid_upto), 
                   paste0(format(ymd(start_date), "%m/%d"), "-", format(ymd(end_date), "%m/%d"), "/", year(ymd(start_date))),
                   paste0(format(ymd(valid_upto), "%m"), 
                         "/", format(ymd(valid_upto), "%d"), 
                         "/", format(ymd(valid_upto), "%Y")))
  ) %>%
  brief_entries(
    what = name,
    when = dates,
    with = institution
  )
```


<!-- # Grants -->

<!-- ```{r} -->
<!-- import_data[["grants.xlsx"]] %>% -->
<!--   #filter(type %in% c("conference", "presentation")) %>% -->
<!--   mutate( -->
<!--     entry = paste0(authors, "(", year,"). ", title,". ", conference, " ", conf_loc) -->
<!--   ) %>% -->
<!--   brief_entries( -->
<!--     what = entry -->
<!--   ) -->
<!-- ``` -->